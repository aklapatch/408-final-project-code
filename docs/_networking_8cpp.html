<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IAC Energy Montoring: Networking.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="CustomDoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IAC Energy Montoring
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_34dab44262838ff7ae0126a362354698.html">Networking</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Networking.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_networking_8h_source.html">Networking.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debugging_8h_source.html">debugging.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Networking.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp__incl.jpeg" border="0" usemap="#_networking_8cpp" alt=""/></div>
<map name="_networking_8cpp" id="_networking_8cpp">
<area shape="rect" title=" " alt="" coords="464,5,584,32"/>
<area shape="rect" href="_networking_8h.html" title=" " alt="" coords="407,80,513,107"/>
<area shape="rect" href="debugging_8h.html" title=" " alt="" coords="835,80,936,107"/>
<area shape="rect" href="_board_config_8h.html" title=" " alt="" coords="193,229,305,256"/>
<area shape="rect" href="_structs_8h.html" title=" " alt="" coords="103,304,183,331"/>
<area shape="rect" title=" " alt="" coords="107,379,178,405"/>
<area shape="rect" title=" " alt="" coords="5,379,64,405"/>
<area shape="rect" title=" " alt="" coords="498,379,561,405"/>
<area shape="rect" title=" " alt="" coords="395,304,461,331"/>
<area shape="rect" title=" " alt="" coords="497,155,644,181"/>
<area shape="rect" href="_offline_logging_8h.html" title=" " alt="" coords="298,155,422,181"/>
<area shape="rect" title=" " alt="" coords="668,155,799,181"/>
<area shape="rect" title=" " alt="" coords="823,155,926,181"/>
<area shape="rect" title=" " alt="" coords="951,155,1052,181"/>
<area shape="rect" title=" " alt="" coords="1127,304,1238,331"/>
<area shape="rect" title=" " alt="" coords="207,304,270,331"/>
<area shape="rect" title=" " alt="" coords="330,229,390,256"/>
</map>
</div>
</div>
<p><a href="_networking_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9123444989cc1593b11fa4c7c89e9804"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a9123444989cc1593b11fa4c7c89e9804">connectESPWiFi</a> (ESP8266Interface *wifi, <a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;Specs)</td></tr>
<tr class="separator:a9123444989cc1593b11fa4c7c89e9804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f5afdd44e1777a43e0d13d4b505aa8c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a5f5afdd44e1777a43e0d13d4b505aa8c">makeGetReqStr</a> (<a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;Specs)</td></tr>
<tr class="separator:a5f5afdd44e1777a43e0d13d4b505aa8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba8ac0a9510dd9f43729065ea444ef0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#aeba8ac0a9510dd9f43729065ea444ef0">makeGetReqStr</a> (vector&lt; <a class="el" href="struct_port_info.html">PortInfo</a> &gt; Ports, <a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;Specs)</td></tr>
<tr class="separator:aeba8ac0a9510dd9f43729065ea444ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa923a396845212ab5a462707736ef134"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#aa923a396845212ab5a462707736ef134">checkESPWiFiConnection</a> (ESP8266Interface *wifi)</td></tr>
<tr class="separator:aa923a396845212ab5a462707736ef134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5827b6c876a0656e6c7d528140654e74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a5827b6c876a0656e6c7d528140654e74">sendMessageTLS</a> (TLSSocket *sock, <a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;Specs, string &amp;message, string &amp;response)</td></tr>
<tr class="separator:a5827b6c876a0656e6c7d528140654e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e28f0399e1f8da2624b3db6bb3573f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a01e28f0399e1f8da2624b3db6bb3573f">sendBackupDataTLS</a> (TLSSocket *sock, <a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;Specs, const char *FileName, string &amp;response)</td></tr>
<tr class="separator:a01e28f0399e1f8da2624b3db6bb3573f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac466923d791b6e83bb5c4745305895b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#ac466923d791b6e83bb5c4745305895b8">sendBulkDataTLS</a> (TLSSocket *sock, <a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;Specs, string &amp;response)</td></tr>
<tr class="separator:ac466923d791b6e83bb5c4745305895b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e56fccab107864d3b5dc320bac12e39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a6e56fccab107864d3b5dc320bac12e39">sendMessageTCP</a> (TCPSocket *sock, <a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;Specs, string &amp;message, string &amp;response)</td></tr>
<tr class="separator:a6e56fccab107864d3b5dc320bac12e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af882b430cdd09e980bdecdf2c065d290"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#af882b430cdd09e980bdecdf2c065d290">sendBackupDataTCP</a> (TCPSocket *sock, <a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;Specs, const char *FileName, string &amp;response)</td></tr>
<tr class="separator:af882b430cdd09e980bdecdf2c065d290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415db526d8897f32dc5ebb73ba450ec3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a415db526d8897f32dc5ebb73ba450ec3">sendBulkDataTCP</a> (TCPSocket *sock, <a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;Specs, string &amp;response)</td></tr>
<tr class="separator:a415db526d8897f32dc5ebb73ba450ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a71642b9bc5d539beab4b57e7331d1ee2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a71642b9bc5d539beab4b57e7331d1ee2">value_get_str</a> = &quot;&amp;Value[]=&quot;</td></tr>
<tr class="separator:a71642b9bc5d539beab4b57e7331d1ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ce9ecf5f7328685c6d0b10fad6b4e3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a98ce9ecf5f7328685c6d0b10fad6b4e3">port_get_str</a> = &quot;&amp;Port_ID[]=&quot;</td></tr>
<tr class="memdesc:a98ce9ecf5f7328685c6d0b10fad6b4e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The string that preceeds the port ID field.  <a href="_networking_8cpp.html#a98ce9ecf5f7328685c6d0b10fad6b4e3">More...</a><br /></td></tr>
<tr class="separator:a98ce9ecf5f7328685c6d0b10fad6b4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2d64bc0eee304ee641eb7b86cb90b6"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a2a2d64bc0eee304ee641eb7b86cb90b6">id_get_str</a> = &quot;Board_ID=&quot;</td></tr>
<tr class="separator:a2a2d64bc0eee304ee641eb7b86cb90b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a53e96d994812f7998e2d003650f74"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_networking_8cpp.html#a11a53e96d994812f7998e2d003650f74">getstr</a> = &quot;GET &quot;</td></tr>
<tr class="separator:a11a53e96d994812f7998e2d003650f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation for all network functions </p>

<p class="definition">Definition in file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa923a396845212ab5a462707736ef134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa923a396845212ab5a462707736ef134">&#9670;&nbsp;</a></span>checkESPWiFiConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkESPWiFiConnection </td>
          <td>(</td>
          <td class="paramtype">ESP8266Interface *&#160;</td>
          <td class="paramname"><em>wifi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>return true if you are connected to a wifi network, and false if you are not </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wifi</td><td>The ESP8266 instance to use </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00122">122</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_aa923a396845212ab5a462707736ef134_icgraph.jpeg" border="0" usemap="#_networking_8cpp_aa923a396845212ab5a462707736ef134_icgraph" alt=""/></div>
<map name="_networking_8cpp_aa923a396845212ab5a462707736ef134_icgraph" id="_networking_8cpp_aa923a396845212ab5a462707736ef134_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,268,32"/>
<area shape="rect" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a9123444989cc1593b11fa4c7c89e9804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9123444989cc1593b11fa4c7c89e9804">&#9670;&nbsp;</a></span>connectESPWiFi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connectESPWiFi </td>
          <td>(</td>
          <td class="paramtype">ESP8266Interface *&#160;</td>
          <td class="paramname"><em>wifi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;&#160;</td>
          <td class="paramname"><em>Specs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the SSID and Password stored in Specs to connect to that network Returns the mbed error code that you get when trying to connect THE ESP8266Interface MUST BE ALLOCATE/INITALIZED ALREADY. It will not be freed inside this function either. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wifi</td><td>The ESP8266 connection to use </td></tr>
    <tr><td class="paramname">Specs</td><td>The data structure where the SSID and Password are pulled from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The error code from the Mbed api: see <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37">https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00016">16</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_a9123444989cc1593b11fa4c7c89e9804_icgraph.jpeg" border="0" usemap="#_networking_8cpp_a9123444989cc1593b11fa4c7c89e9804_icgraph" alt=""/></div>
<map name="_networking_8cpp_a9123444989cc1593b11fa4c7c89e9804_icgraph" id="_networking_8cpp_a9123444989cc1593b11fa4c7c89e9804_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,217,32"/>
<area shape="rect" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a5f5afdd44e1777a43e0d13d4b505aa8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f5afdd44e1777a43e0d13d4b505aa8c">&#9670;&nbsp;</a></span>makeGetReqStr() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string makeGetReqStr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;&#160;</td>
          <td class="paramname"><em>Specs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00027">27</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_a5f5afdd44e1777a43e0d13d4b505aa8c_icgraph.jpeg" border="0" usemap="#_networking_8cpp_a5f5afdd44e1777a43e0d13d4b505aa8c_icgraph" alt=""/></div>
<map name="_networking_8cpp_a5f5afdd44e1777a43e0d13d4b505aa8c_icgraph" id="_networking_8cpp_a5f5afdd44e1777a43e0d13d4b505aa8c_icgraph">
<area shape="rect" title=" " alt="" coords="311,81,435,108"/>
<area shape="rect" href="_networking_8h.html#af882b430cdd09e980bdecdf2c065d290" title=" " alt="" coords="108,5,263,32"/>
<area shape="rect" href="_networking_8h.html#a01e28f0399e1f8da2624b3db6bb3573f" title=" " alt="" coords="108,56,263,83"/>
<area shape="rect" href="_networking_8h.html#a415db526d8897f32dc5ebb73ba450ec3" title=" " alt="" coords="118,107,253,133"/>
<area shape="rect" href="_networking_8h.html#ac466923d791b6e83bb5c4745305895b8" title=" " alt="" coords="118,157,253,184"/>
<area shape="rect" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,81,60,108"/>
</map>
</div>

</div>
</div>
<a id="aeba8ac0a9510dd9f43729065ea444ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba8ac0a9510dd9f43729065ea444ef0">&#9670;&nbsp;</a></span>makeGetReqStr() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string makeGetReqStr </td>
          <td>(</td>
          <td class="paramtype">vector&lt; <a class="el" href="struct_port_info.html">PortInfo</a> &gt;&#160;</td>
          <td class="paramname"><em>Ports</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;&#160;</td>
          <td class="paramname"><em>Specs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00074">74</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>

</div>
</div>
<a id="af882b430cdd09e980bdecdf2c065d290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af882b430cdd09e980bdecdf2c065d290">&#9670;&nbsp;</a></span>sendBackupDataTCP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendBackupDataTCP </td>
          <td>(</td>
          <td class="paramtype">TCPSocket *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;&#160;</td>
          <td class="paramname"><em>Specs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>FileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>tries to send backup data to the database without TLS. This will work for http connections. sock MUST already be allocated and paired with a network interface, and have its ca_cert set too</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wifi</td><td>The ESP8266 instance to use</td></tr>
    <tr><td class="paramname">Specs</td><td>provides the dabase table name and board name</td></tr>
    <tr><td class="paramname">FileName</td><td>the file to pull data readings from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code from the Mbed Socket api: see <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37">https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00216">216</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_af882b430cdd09e980bdecdf2c065d290_cgraph.jpeg" border="0" usemap="#_networking_8cpp_af882b430cdd09e980bdecdf2c065d290_cgraph" alt=""/></div>
<map name="_networking_8cpp_af882b430cdd09e980bdecdf2c065d290_cgraph" id="_networking_8cpp_af882b430cdd09e980bdecdf2c065d290_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,160,83"/>
<area shape="rect" href="_offline_logging_8cpp.html#a9ba0d3e837416232cc05d46e8daf19ca" title=" " alt="" coords="208,5,381,32"/>
<area shape="rect" href="_networking_8cpp.html#a5f5afdd44e1777a43e0d13d4b505aa8c" title=" " alt="" coords="233,56,357,83"/>
<area shape="rect" href="_networking_8cpp.html#a6e56fccab107864d3b5dc320bac12e39" title=" " alt="" coords="227,107,362,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_af882b430cdd09e980bdecdf2c065d290_icgraph.jpeg" border="0" usemap="#_networking_8cpp_af882b430cdd09e980bdecdf2c065d290_icgraph" alt=""/></div>
<map name="_networking_8cpp_af882b430cdd09e980bdecdf2c065d290_icgraph" id="_networking_8cpp_af882b430cdd09e980bdecdf2c065d290_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,263,32"/>
<area shape="rect" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a01e28f0399e1f8da2624b3db6bb3573f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01e28f0399e1f8da2624b3db6bb3573f">&#9670;&nbsp;</a></span>sendBackupDataTLS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendBackupDataTLS </td>
          <td>(</td>
          <td class="paramtype">TLSSocket *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;&#160;</td>
          <td class="paramname"><em>Specs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>FileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to send backup data to the database. This uses TLS and is intended for https connections.sock MUST already be allocated and paired with a network interface, and have its ca_cert set too the Mbed Socket api: see <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37">https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wifi</td><td>the ESP8266 instance to use </td></tr>
    <tr><td class="paramname">Specs</td><td>the number of port samples is pulled from the number of ports that Specs has </td></tr>
    <tr><td class="paramname">FileName</td><td>The file from which to pull port readings </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00159">159</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_a01e28f0399e1f8da2624b3db6bb3573f_cgraph.jpeg" border="0" usemap="#_networking_8cpp_a01e28f0399e1f8da2624b3db6bb3573f_cgraph" alt=""/></div>
<map name="_networking_8cpp_a01e28f0399e1f8da2624b3db6bb3573f_cgraph" id="_networking_8cpp_a01e28f0399e1f8da2624b3db6bb3573f_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,160,83"/>
<area shape="rect" href="_offline_logging_8cpp.html#a9ba0d3e837416232cc05d46e8daf19ca" title=" " alt="" coords="208,5,381,32"/>
<area shape="rect" href="_networking_8cpp.html#a5f5afdd44e1777a43e0d13d4b505aa8c" title=" " alt="" coords="233,56,357,83"/>
<area shape="rect" href="_networking_8cpp.html#a5827b6c876a0656e6c7d528140654e74" title=" " alt="" coords="228,107,361,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_a01e28f0399e1f8da2624b3db6bb3573f_icgraph.jpeg" border="0" usemap="#_networking_8cpp_a01e28f0399e1f8da2624b3db6bb3573f_icgraph" alt=""/></div>
<map name="_networking_8cpp_a01e28f0399e1f8da2624b3db6bb3573f_icgraph" id="_networking_8cpp_a01e28f0399e1f8da2624b3db6bb3573f_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,263,32"/>
<area shape="rect" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a415db526d8897f32dc5ebb73ba450ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a415db526d8897f32dc5ebb73ba450ec3">&#9670;&nbsp;</a></span>sendBulkDataTCP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendBulkDataTCP </td>
          <td>(</td>
          <td class="paramtype">TCPSocket *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;&#160;</td>
          <td class="paramname"><em>Specs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to send data from the current port readings in Specs to the remote database without TLS. This will work for http connections. sock MUST already be allocated and paired with a network interface, and have its ca_cert set too</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wifi</td><td>The ESP8266 instance to use</td></tr>
    <tr><td class="paramname">Specs</td><td>The set of port readings and database table name are pulled from here </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>And error code from the Mbed Socket api: see <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37">https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00227">227</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_a415db526d8897f32dc5ebb73ba450ec3_cgraph.jpeg" border="0" usemap="#_networking_8cpp_a415db526d8897f32dc5ebb73ba450ec3_cgraph" alt=""/></div>
<map name="_networking_8cpp_a415db526d8897f32dc5ebb73ba450ec3_cgraph" id="_networking_8cpp_a415db526d8897f32dc5ebb73ba450ec3_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,140,57"/>
<area shape="rect" href="_networking_8cpp.html#a5f5afdd44e1777a43e0d13d4b505aa8c" title=" " alt="" coords="193,5,317,32"/>
<area shape="rect" href="_networking_8cpp.html#a6e56fccab107864d3b5dc320bac12e39" title=" " alt="" coords="188,56,323,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_a415db526d8897f32dc5ebb73ba450ec3_icgraph.jpeg" border="0" usemap="#_networking_8cpp_a415db526d8897f32dc5ebb73ba450ec3_icgraph" alt=""/></div>
<map name="_networking_8cpp_a415db526d8897f32dc5ebb73ba450ec3_icgraph" id="_networking_8cpp_a415db526d8897f32dc5ebb73ba450ec3_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,243,32"/>
<area shape="rect" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="ac466923d791b6e83bb5c4745305895b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac466923d791b6e83bb5c4745305895b8">&#9670;&nbsp;</a></span>sendBulkDataTLS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendBulkDataTLS </td>
          <td>(</td>
          <td class="paramtype">TLSSocket *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;&#160;</td>
          <td class="paramname"><em>Specs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to send data from the current port readings in Specs to the remote database param wifi The ESP8266 instance to use. This uses TLS encryption and is intended for https connections. sock MUST already be allocated and paired with a network interface, and have its ca_cert set too and database table name are pulled from here </p><dl class="section return"><dt>Returns</dt><dd>And error code from the Mbed Socket api: see <a href="https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37">https://github.com/ARMmbed/mbed-os/blob/master/features/netsocket/nsapi_types.h#L37</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wifi</td><td>the ESP8266 instance to use </td></tr>
    <tr><td class="paramname">Specs</td><td>The port readings that are sent are pulled from here </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00175">175</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_ac466923d791b6e83bb5c4745305895b8_cgraph.jpeg" border="0" usemap="#_networking_8cpp_ac466923d791b6e83bb5c4745305895b8_cgraph" alt=""/></div>
<map name="_networking_8cpp_ac466923d791b6e83bb5c4745305895b8_cgraph" id="_networking_8cpp_ac466923d791b6e83bb5c4745305895b8_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,140,57"/>
<area shape="rect" href="_networking_8cpp.html#a5f5afdd44e1777a43e0d13d4b505aa8c" title=" " alt="" coords="193,5,317,32"/>
<area shape="rect" href="_networking_8cpp.html#a5827b6c876a0656e6c7d528140654e74" title=" " alt="" coords="188,56,321,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_ac466923d791b6e83bb5c4745305895b8_icgraph.jpeg" border="0" usemap="#_networking_8cpp_ac466923d791b6e83bb5c4745305895b8_icgraph" alt=""/></div>
<map name="_networking_8cpp_ac466923d791b6e83bb5c4745305895b8_icgraph" id="_networking_8cpp_ac466923d791b6e83bb5c4745305895b8_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,243,32"/>
<area shape="rect" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a6e56fccab107864d3b5dc320bac12e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e56fccab107864d3b5dc320bac12e39">&#9670;&nbsp;</a></span>sendMessageTCP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendMessageTCP </td>
          <td>(</td>
          <td class="paramtype">TCPSocket *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;&#160;</td>
          <td class="paramname"><em>Specs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00185">185</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_a6e56fccab107864d3b5dc320bac12e39_icgraph.jpeg" border="0" usemap="#_networking_8cpp_a6e56fccab107864d3b5dc320bac12e39_icgraph" alt=""/></div>
<map name="_networking_8cpp_a6e56fccab107864d3b5dc320bac12e39_icgraph" id="_networking_8cpp_a6e56fccab107864d3b5dc320bac12e39_icgraph">
<area shape="rect" title=" " alt="" coords="311,31,445,57"/>
<area shape="rect" href="_networking_8h.html#af882b430cdd09e980bdecdf2c065d290" title=" " alt="" coords="108,5,263,32"/>
<area shape="rect" href="_networking_8h.html#a415db526d8897f32dc5ebb73ba450ec3" title=" " alt="" coords="118,56,253,83"/>
<area shape="rect" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,31,60,57"/>
</map>
</div>

</div>
</div>
<a id="a5827b6c876a0656e6c7d528140654e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5827b6c876a0656e6c7d528140654e74">&#9670;&nbsp;</a></span>sendMessageTLS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendMessageTLS </td>
          <td>(</td>
          <td class="paramtype">TLSSocket *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_board_specs.html">BoardSpecs</a> &amp;&#160;</td>
          <td class="paramname"><em>Specs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00126">126</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_networking_8cpp_a5827b6c876a0656e6c7d528140654e74_icgraph.jpeg" border="0" usemap="#_networking_8cpp_a5827b6c876a0656e6c7d528140654e74_icgraph" alt=""/></div>
<map name="_networking_8cpp_a5827b6c876a0656e6c7d528140654e74_icgraph" id="_networking_8cpp_a5827b6c876a0656e6c7d528140654e74_icgraph">
<area shape="rect" title=" " alt="" coords="311,31,444,57"/>
<area shape="rect" href="_networking_8h.html#a01e28f0399e1f8da2624b3db6bb3573f" title=" " alt="" coords="108,5,263,32"/>
<area shape="rect" href="_networking_8h.html#ac466923d791b6e83bb5c4745305895b8" title=" " alt="" coords="118,56,253,83"/>
<area shape="rect" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,31,60,57"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a11a53e96d994812f7998e2d003650f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11a53e96d994812f7998e2d003650f74">&#9670;&nbsp;</a></span>getstr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* getstr = &quot;GET &quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00014">14</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>

</div>
</div>
<a id="a2a2d64bc0eee304ee641eb7b86cb90b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a2d64bc0eee304ee641eb7b86cb90b6">&#9670;&nbsp;</a></span>id_get_str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* id_get_str = &quot;Board_ID=&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00012">12</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>

</div>
</div>
<a id="a98ce9ecf5f7328685c6d0b10fad6b4e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ce9ecf5f7328685c6d0b10fad6b4e3">&#9670;&nbsp;</a></span>port_get_str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* port_get_str = &quot;&amp;Port_ID[]=&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The string that preceeds the port ID field. </p>

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00010">10</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>

</div>
</div>
<a id="a71642b9bc5d539beab4b57e7331d1ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71642b9bc5d539beab4b57e7331d1ee2">&#9670;&nbsp;</a></span>value_get_str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* value_get_str = &quot;&amp;Value[]=&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_networking_8cpp_source.html#l00007">7</a> of file <a class="el" href="_networking_8cpp_source.html">Networking.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
